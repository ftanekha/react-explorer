{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ftall/Desktop/code/js/projects/react/explorer/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/ftall/Desktop/code/js/projects/react/explorer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import FsInfoApp from'./components/userFileSystemInfo/fsInfoApp.js';import OsInfoApp from'./components/userOsInfo/OsInfoApp.js';import ToggleOsInfoAppButton from'./components/toggleOsInfoAppButton.js';import NavButton from'./components/navButton.js';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userFsInfo=_useState2[0],setUserFsInfo=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userOsInfo=_useState4[0],setUserOsInfo=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),osDisplay=_useState6[0],setOsDisplay=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),currentPath=_useState8[0],setCurrentPath=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),canNavigateBack=_useState10[0],setCanNavigateBack=_useState10[1];var _useState11=useState(['']),_useState12=_slicedToArray(_useState11,2),pathsVisited=_useState12[0],setPathsVisited=_useState12[1];var _useState13=useState('flex'),_useState14=_slicedToArray(_useState13,2),displayOsInfoAsNoneOrFlex=_useState14[0],setDisplayOsInfoAsNoneOrFlex=_useState14[1];var userURI='../../api/index.js';var toggleOsDisplay=function toggleOsDisplay(){setOsDisplay(!osDisplay);if(displayOsInfoAsNoneOrFlex==='flex'){var timer=setTimeout(function(){setDisplayOsInfoAsNoneOrFlex('hidden');clearTimeout(timer);},2000);}else{setDisplayOsInfoAsNoneOrFlex('flex');}};function navigateBack(){var currentPathPosition=pathsVisited.indexOf(currentPath);var targetPathPosition=currentPathPosition-1;var targetPath=pathsVisited[targetPathPosition];if(!canNavigateBack||targetPathPosition<0){return alert('Maximum backward navigation reached!');}fetch(userURI,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({nextPath:targetPath,direction:'back'})}).then(function(res){return res.json();}).then(function(data){//update UI\nsetUserOsInfo(data.userOsInfo);setUserFsInfo(data.currentPathFiles);//\nsetCurrentPath(data.currentPath);setCanNavigateBack(data.canNavigateBack);setPathsVisited([].concat(_toConsumableArray(pathsVisited),[data.currentPath]));}).catch(function(err){return console.warn(err.message);});}function navigateForward(){if(!pathsVisited)return alert(\"No URLs in User's History to navigate to!\");var currentPathPosition=pathsVisited.indexOf(currentPath);var targetPathPosition=currentPathPosition+1;if(targetPathPosition>=pathsVisited.length){return alert('Maximum forward navigation reached!');}var targetPath=pathsVisited[targetPathPosition];fetch(userURI,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({nextPath:targetPath,direction:'forward'})}).then(function(res){return res.json();}).then(function(data){//update UI\nsetUserOsInfo(data.userOsInfo);setUserFsInfo(data.currentPathFiles);//\nsetCurrentPath(data.currentPath);setCanNavigateBack(data.canNavigateBack);setPathsVisited([].concat(_toConsumableArray(pathsVisited),[data.currentPath]));}).catch(function(err){return console.warn(err.message);});}function openDirectory(fileType,fileName){if(fileType==='directory'&&//not a system folder\nfileName===fileName.toLowerCase()&&//not a hidden folder\nfileName.charAt(0)!=='.'){fetch(userURI,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({nextPath:fileName})}).then(function(res){if(res.status===200){return res.json();}throw Error(res.status);}).then(function(data){setUserOsInfo(data.userOsInfo);setUserFsInfo(data.currentPathFiles);setCanNavigateBack(true);setCurrentPath(data.currentPath);setPathsVisited([].concat(_toConsumableArray(pathsVisited),[data.currentPath]));}).catch(function(err){return console.warn(err.message);});}}useEffect(function(){fetch(userURI).then(function(res){return res.json();}).then(function(data){setUserOsInfo(data.userOsInfo);setUserFsInfo(data.currentPathFiles);setCurrentPath(data.currentPath);setPathsVisited([data.currentPath]);setCanNavigateBack(false);}).catch(function(err){return console.warn(err.message);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex-column items-center relative\",children:[/*#__PURE__*/_jsx(OsInfoApp,{osDisplay:osDisplay,userOsInfo:userOsInfo,displayOsInfoAsNoneOrFlex:displayOsInfoAsNoneOrFlex}),/*#__PURE__*/_jsxs(\"div\",{id:\"navButtonsContainer\",className:\"w-4/5 mx-auto flex\",children:[/*#__PURE__*/_jsx(NavButton,{direction:'back',navigate:navigateBack,className:'border-l-8 pr-4 pl-1',title:\"go back\"}),/*#__PURE__*/_jsx(ToggleOsInfoAppButton,{toggleOsDisplay:toggleOsDisplay}),/*#__PURE__*/_jsx(NavButton,{direction:'forward',navigate:navigateForward,className:'border-r-8 pl-4 pr-1',title:\"go forward\"})]}),/*#__PURE__*/_jsx(FsInfoApp,{userFsInfo:userFsInfo,openDirectory:openDirectory})]});}","map":{"version":3,"names":["useState","useEffect","FsInfoApp","OsInfoApp","ToggleOsInfoAppButton","NavButton","App","userFsInfo","setUserFsInfo","userOsInfo","setUserOsInfo","osDisplay","setOsDisplay","currentPath","setCurrentPath","canNavigateBack","setCanNavigateBack","pathsVisited","setPathsVisited","displayOsInfoAsNoneOrFlex","setDisplayOsInfoAsNoneOrFlex","userURI","toggleOsDisplay","timer","setTimeout","clearTimeout","navigateBack","currentPathPosition","indexOf","targetPathPosition","targetPath","alert","fetch","method","headers","body","JSON","stringify","nextPath","direction","then","res","json","data","currentPathFiles","catch","err","console","warn","message","navigateForward","length","openDirectory","fileType","fileName","toLowerCase","charAt","status","Error"],"sources":["C:/Users/ftall/Desktop/code/js/projects/react/explorer/client/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport FsInfoApp from './components/userFileSystemInfo/fsInfoApp.js'\r\nimport OsInfoApp from './components/userOsInfo/OsInfoApp.js'\r\nimport ToggleOsInfoAppButton from './components/toggleOsInfoAppButton.js'\r\nimport NavButton from './components/navButton.js'\r\nimport './App.css'\r\n\r\nexport default function App() {\r\n    const [userFsInfo, setUserFsInfo] = useState([])\r\n    const [userOsInfo, setUserOsInfo] = useState([])\r\n    const [osDisplay, setOsDisplay] = useState(true)\r\n    const [currentPath, setCurrentPath] = useState('')\r\n    const [canNavigateBack, setCanNavigateBack] = useState(true)\r\n    const [pathsVisited, setPathsVisited] = useState([''])\r\n    const [displayOsInfoAsNoneOrFlex, setDisplayOsInfoAsNoneOrFlex] = useState('flex')\r\n\r\n    const userURI = '../../api/index.js'\r\n\r\n    const toggleOsDisplay = ()=> {\r\n        setOsDisplay(!osDisplay)\r\n        if(displayOsInfoAsNoneOrFlex === 'flex'){\r\n            const timer = setTimeout(\r\n                ()=> {\r\n                    setDisplayOsInfoAsNoneOrFlex('hidden')\r\n                    clearTimeout(timer)\r\n                },\r\n                2000\r\n            )\r\n        }else{\r\n            setDisplayOsInfoAsNoneOrFlex('flex')\r\n        }\r\n        \r\n    }\r\n\r\n    function navigateBack(){\r\n        const currentPathPosition = pathsVisited.indexOf(currentPath)\r\n        const targetPathPosition = currentPathPosition - 1\r\n        const targetPath = pathsVisited[targetPathPosition]\r\n\r\n        if(!canNavigateBack || targetPathPosition < 0){\r\n            return alert('Maximum backward navigation reached!')\r\n        }\r\n        \r\n        fetch(\r\n            userURI,\r\n            {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({ nextPath: targetPath, direction: 'back' })\r\n            }\r\n        )\r\n        .then(res => res.json())\r\n        .then(\r\n            data => {\r\n                //update UI\r\n                setUserOsInfo(data.userOsInfo)\r\n                setUserFsInfo(data.currentPathFiles)\r\n                //\r\n                setCurrentPath(data.currentPath)\r\n                setCanNavigateBack(data.canNavigateBack)\r\n                setPathsVisited([...pathsVisited, data.currentPath])\r\n            }\r\n        )\r\n        .catch(err => console.warn(err.message))\r\n    }\r\n\r\n    function navigateForward(){\r\n        if(!pathsVisited) return alert(\"No URLs in User's History to navigate to!\")\r\n        \r\n        const currentPathPosition = pathsVisited.indexOf(currentPath)\r\n        const targetPathPosition = currentPathPosition + 1\r\n\r\n        if(targetPathPosition >= pathsVisited.length){\r\n            return alert('Maximum forward navigation reached!')\r\n        }\r\n        const targetPath = pathsVisited[targetPathPosition]\r\n\r\n        fetch(\r\n            userURI,\r\n            {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({ nextPath: targetPath, direction: 'forward' })\r\n            }\r\n        )\r\n        .then(res => res.json())\r\n        .then(\r\n            data => {\r\n                //update UI\r\n                setUserOsInfo(data.userOsInfo)\r\n                setUserFsInfo(data.currentPathFiles)\r\n                //\r\n                setCurrentPath(data.currentPath)\r\n                setCanNavigateBack(data.canNavigateBack)\r\n                setPathsVisited([...pathsVisited, data.currentPath])\r\n            }\r\n        )\r\n        .catch(err => console.warn(err.message))\r\n    }\r\n\r\n    function openDirectory(fileType, fileName){\r\n        \r\n        if(\r\n            fileType === 'directory'\r\n            &&//not a system folder\r\n            fileName === fileName.toLowerCase()\r\n            &&//not a hidden folder\r\n            fileName.charAt(0) !== '.'\r\n        ){\r\n            fetch(\r\n                userURI,\r\n                {\r\n                    method: 'POST',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({ nextPath: fileName })\r\n                }\r\n            )\r\n            .then(\r\n                res => {\r\n                    if(res.status === 200){\r\n                        return res.json()\r\n                    }\r\n                    throw Error(res.status)\r\n                }\r\n            )\r\n            .then(\r\n                data => {\r\n                    setUserOsInfo(data.userOsInfo)\r\n                    setUserFsInfo(data.currentPathFiles)\r\n                    setCanNavigateBack(true)\r\n                    setCurrentPath(data.currentPath)\r\n                    setPathsVisited([...pathsVisited, data.currentPath])\r\n                }\r\n            )\r\n            .catch(err => console.warn(err.message))\r\n        }\r\n    }\r\n\r\n    useEffect(\r\n        ()=> {\r\n            fetch(userURI)\r\n            .then(res => res.json())\r\n            .then(\r\n                data => {\r\n                    setUserOsInfo(data.userOsInfo)\r\n                    setUserFsInfo(data.currentPathFiles)\r\n                    setCurrentPath(data.currentPath)\r\n                    setPathsVisited([data.currentPath])\r\n                    setCanNavigateBack(false)\r\n                }\r\n            )\r\n            .catch(err => console.warn(err.message))\r\n        }\r\n        ,[]\r\n    )\r\n\r\n    return (\r\n        <div className='flex-column items-center relative'>\r\n            <OsInfoApp osDisplay={osDisplay} userOsInfo={userOsInfo} displayOsInfoAsNoneOrFlex={displayOsInfoAsNoneOrFlex}/>\r\n            <div id='navButtonsContainer' className='w-4/5 mx-auto flex'>\r\n                <NavButton direction={'back'} navigate={navigateBack} className={'border-l-8 pr-4 pl-1'} title='go back'/>\r\n                    <ToggleOsInfoAppButton toggleOsDisplay={toggleOsDisplay}/>            \r\n                <NavButton direction={'forward'} navigate={navigateForward} className={'border-r-8 pl-4 pr-1'} title='go forward'/>\r\n            </div>\r\n            <FsInfoApp userFsInfo={userFsInfo} openDirectory={openDirectory}/>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}